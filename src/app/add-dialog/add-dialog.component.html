<h1 mat-dialog-title>Add Citizen</h1>

<mat-dialog-content [formGroup]='form'>
  <div class="dialogColumn">

    <mat-form-field>
      <input matInput
             formControlName="name"
             placeholder="Name:"
             required>
    </mat-form-field>

    <mat-form-field>
      <input matInput
             formControlName="surname"
             placeholder="Surname:"
             required/>
    </mat-form-field>

    <mat-form-field>
      <input type="email" matInput
             formControlName="email"
             placeholder="Email:"
             required/>
      <mat-error *ngIf="!f.email.hasError('emailAvailable')">
        User with email address already exists
      </mat-error>
    </mat-form-field>

    <div class="radio-group">
      <mat-label>Sex:</mat-label>
      <mat-radio-group aria-label="Select an option"
                       color="primary"
                       formControlName="gender"
                       required>
        <mat-radio-button value="male">Male</mat-radio-button>
        <mat-radio-button value="female">Female</mat-radio-button>
      </mat-radio-group>
    </div>

    <mat-form-field color="primary">
      <mat-label>Date Of Birth:</mat-label>
      <input matInput [matDatepicker]="picker1"
             formControlName="dateOfBirth"
             placeholder="Date Of Birth:"
             required
             [max]=maxDate>
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <input matInput
             formControlName="phoneNum"
             placeholder="Phone Num:"
             required>
    </mat-form-field>
  </div>

  <div class="dialogColumn">
    <mat-form-field>
      <mat-label>Marital Status:</mat-label>
      <mat-select [(value)]="selected" formControlName="marriage" required>
        <mat-option value="unmarried">Unmarried</mat-option>
        <mat-option value="married">Married</mat-option>
        <mat-option value="divorced">Divorced</mat-option>
        <mat-option value="widowed">Widowed</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <textarea matInput
                style="height: 106px"
                formControlName="criminal"
                placeholder="Criminal records:"></textarea>
    </mat-form-field>

    <div class="citizenship-container">
      <mat-form-field class="citizenship-item">
        <input matInput
               formControlName="citizenship"
               placeholder="Citizenship:" [(ngModel)]="citizenship" [required]="!this.citizenships.length">
      </mat-form-field>
      <div class="citizenship-item">
        <button mat-mini-fab
                color="primary"
                (click)="addCitizenship(citizenship)"
                [disabled]="citizenshipAddState">
          <mat-icon>add</mat-icon>
        </button>
      </div>
    </div>
    <p *ngFor="let citizenship of citizenships; index as i">&#8226; {{citizenship}}</p>
  </div>
</mat-dialog-content>

<div mat-dialog-actions>
  <button
    [disabled]="!form.valid"
    mat-raised-button
    color="primary"
    autofocus>Login
  </button>&nbsp;
  <button class="mat-raised-button" (click)="close()">Close</button>
</div>

